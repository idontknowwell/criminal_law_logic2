<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Battery Judgment</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 10px; }
    button { margin-top: 15px; padding: 10px; }
    .result { margin-top: 15px; font-weight: bold; white-space: pre-line; }
  </style>
</head>
<body>

<h2>Battery (Ìè≠Ìñâ) Judgment</h2>

<form id="batteryForm">

  <label>Actor (x_a1): 
    <select id="x_a1">
      <option value="person">Person</option>
      <option value="none">Other</option>
    </select>
  </label>

  <label>Target (x_t1):
    <select id="x_t1">
      <option value="person">Person</option>
      <option value="none">Other</option>
    </select>
  </label>

  <label>Assault Act Occurred (x_aslt1):
    <select id="x_aslt1">
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </label>

  <label>Intent (x_int1):
    <select id="x_int1">
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </label>

  <label>Illegality (x_ilg1):
    <select id="x_ilg1">
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </label>

  <button type="button" onclick="judgeBattery()">Judge Battery</button>
  <div id="result" class="result"></div>

</form>

<script>
  function judgeBattery() {
    const x_a1 = document.getElementById('x_a1').value;
    const x_t1 = document.getElementById('x_t1').value;
    const x_aslt1 = document.getElementById('x_aslt1').value;
    const x_int1 = document.getElementById('x_int1').value;
    const x_ilg1 = document.getElementById('x_ilg1').value;

    let result = "";

    if ([x_a1, x_t1, x_aslt1, x_int1, x_ilg1].includes("")) {
      result = "Please select all values.";
      document.getElementById('result').innerText = result;
      return;
    }

    if (
      x_a1 === "person" &&
      x_t1 === "person" &&
      x_aslt1 === "true" &&
      x_int1 === "true" &&
      x_ilg1 === "true"
    ) {
      result = "‚úÖ Guilty of Battery.\nPenalty: up to 2 years imprisonment.\n\nüìñ Loading Article 260 of the Criminal Act...";
      document.getElementById('result').innerText = result;
      loadArticle260();
    } else {
      result = "‚ùå Not guilty or insufficient elements for conviction.";
      document.getElementById('result').innerText = result;
    }
  }

  function loadArticle260() {
    const url = "https://www.law.go.kr/DRF/lawService.do?OC=nthiseth&target=law&ID=4370&type=json";

    fetch(url)
      .then(response => response.json())
      .then(data => {
        console.log(data); // ÏùëÎãµ Íµ¨Ï°∞ ÌôïÏù∏Ïö©
        const articles = data?.Law?.Article;
        if (!Array.isArray(articles)) throw new Error("Î≤ïÎ†π Îç∞Ïù¥ÌÑ∞ ÌòïÏãù Ïò§Î•ò");

        const article260 = articles.find(article => article.ArticleNo === "260");
        if (!article260) throw new Error("ÌòïÎ≤ï Ï†ú260Ï°∞Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");

        document.getElementById('result').innerText += `\n\nüìú ÌòïÎ≤ï Ï†ú260Ï°∞:\n${article260.ArticleContent}`;
      })
      .catch(error => {
        console.error("Error fetching legal text:", error);
        document.getElementById('result').innerText += `\n\n‚ö†Ô∏è Failed to load legal text: ${error.message}`;
      });
  }
</script>

</body>
</html>
