<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>형법 260조 1항 조회</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
const LAW_API_BASE_URL = "https://www.law.go.kr";

class LawApiParams {
  constructor(target, type = "json") {
    this.OC = "nthiseth"; // 본인 API 인증키
    this.type = type;
    this.target = target;
  }
  addField(key, value) {
    this[key] = value;
    return this;
  }
}

async function lawApiCall(urlPath, lawApiParams) {
  try {
    const response = await $.ajax({
      url: LAW_API_BASE_URL + urlPath,
      method: "GET",
      data: lawApiParams,
      dataType: lawApiParams.type,
    });
    return response;
  } catch (error) {
    console.error("Error:", error);
    throw error;
  }
}

async function fetchArticle260_1() {
  const params = new LawApiParams("lawView", "json")
    .addField("ID", "001692000260010"); // 형법 260조 제1항 조문ID

  try {
    const data = await lawApiCall("/DRF/lawService.do", params);

    // 조문 데이터 배열에서 해당 조문 찾기
    const article = data.법령.조문.find(c => c.조문키 === "001692000260010");

    if (article) {
      // ①항 내용만 표시
      const clause1 = article.항.find(h => h.항번호 === "①");
      document.getElementById("result").textContent = clause1 ? clause1.항내용.trim() : "조문 내용이 없습니다.";
    } else {
      document.getElementById("result").textContent = "조문을 찾을 수 없습니다.";
    }
  } catch (e) {
    document.getElementById("result").textContent = "조문 조회 실패";
  }
}

window.onload = fetchArticle260_1;
</script>
</head>
<body>
<h1>형법 제260조 제1항</h1>
<pre id="result">로딩 중...</pre>
</body>
</html>
